# QUOTES TABLES
CREATE TABLE IF NOT EXISTS quotes_en(
  quoteID int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  quote TEXT NOT NULL,
  author varchar(255) NOT NULL DEFAULT 'Anonymous',
  quoteImage varchar(255) DEFAULT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

INSERT INTO quotes_en (quote,author) VALUES ('MY QUOTE', 'Anonymous');

CREATE TABLE IF NOT EXISTS quotes_es(
  quoteID int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  quote TEXT NOT NULL,
  author varchar(255) NOT NULL DEFAULT 'Anonimo',
  quoteImage varchar(255) DEFAULT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
INSERT INTO quotes_es (quote,author) VALUES ('MI FRASE', 'Anonimo');

CREATE TABLE IF NOT EXISTS quotes_pt(
  quoteID int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  quote TEXT NOT NULL,
  author varchar(255) NOT NULL DEFAULT 'Anonimo',
  quoteImage varchar(255) DEFAULT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS quotes(
  id int(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
  en_id int(11) DEFAULT NULL,
  es_id int(11) DEFAULT NULL,
  pt_id int(11) DEFAULT NULL,
  CONSTRAINT en_ibfk_1
    FOREIGN KEY (en_id) 
    REFERENCES quotes_en(quoteID)
    ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT es_ibfk_1 
    FOREIGN KEY (es_id) 
    REFERENCES quotes_es(quoteID)
    ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT pt_ibfk_1 
    FOREIGN KEY (pt_id) 
    REFERENCES quotes_pt(quoteID)
    ON DELETE CASCADE ON UPDATE CASCADE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
INSERT INTO quotes (en_id) VALUES (1);
INSERT INTO quotes (es_id) VALUES (1);

# END OF QUOTES TABLES

SELECT topicID, COUNT(topicID) AS 'cnt' FROM quotesTopicEN GROUP BY topicID ORDER BY 'topicID' DESC
LIMIT 1;
